<?xml version="1.0" encoding="UTF-8"?>
<p id="Par9">The permanent porosity of 3D-TPE-COF was determined by N
 <sub>2</sub> adsorption measurement at 77 K. As shown in Fig. 
 <xref rid="Fig4" ref-type="fig">4a</xref>, 3D-TPE-COF showed a type I isotherm, which is characteristic of microporous materials. The Brunauer–Emmett–Teller (BET) surface area and total pore volume were calculated to be 1084 m
 <sup>2</sup> g
 <sup>−1</sup> and 0.55 cm
 <sup>3</sup> g
 <sup>−1</sup>, respectively. It is worth noting that this BET surface area is much higher than that of its amorphous analog (512 m
 <sup>2</sup> g
 <sup>−1</sup>)
 <sup>
  <xref ref-type="bibr" rid="CR51">51</xref>
 </sup>, which is also synthesized from TAPM and TPE-Ph-CHO. The pore width distribution calculated by the quenched solid density functional theory (QSDFT) model revealed one major peak centered at 0.57 nm (Fig. 
 <xref rid="Fig4" ref-type="fig">4a</xref>). We also studied the CO
 <sub>2</sub> adsorption behavior of 3D-TPE-COF (Fig. 
 <xref rid="Fig4" ref-type="fig">4b</xref>), and the uptake value was 72 cm
 <sup>3</sup> g
 <sup>−1</sup> at 273 K and 45 cm
 <sup>3</sup> g
 <sup>−1</sup> at 298 K. In addition, the thermogravimetric analysis revealed that 3D-TPE-COF starts to decompose at 400 °C (see Supplementary Figure 
 <xref rid="MOESM1" ref-type="media">6</xref>), indicating the high thermal stability. More importantly, this COF showed good chemical stability (Fig. 
 <xref rid="Fig4" ref-type="fig">4c</xref>). After dispersing 3D-TPE-COF in common organic solvents, water and alkaline solution for 24 h, the COF samples still exhibited strong diffraction peaks in PXRD patterns. This is different from the reported boronate-linked 2D TPE-Ph COF
 <sup>
  <xref ref-type="bibr" rid="CR12">12</xref>
 </sup>, which will lose crystalline structure upon exposure to water.
</p>
