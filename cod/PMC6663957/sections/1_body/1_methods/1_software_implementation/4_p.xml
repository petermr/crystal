<?xml version="1.0" encoding="UTF-8"?>
<p id="Par24">The most important building block to modify was the one related to sinograms and forward/backward projection. New classes were inherited in which the 3D-sinogram information could be calculated according to the new scanner geometry. FigureÂ 
 <xref rid="Fig2" ref-type="fig">2</xref> demonstrates the related class hierarchy. In the former model, the LOR coordinates are calculated based on detector position numbers with the assumption of having a perfect cylindrical scanner. In the current implementation, we calculate LOR coordinates from the exact Cartesian coordinates of the two detection positions. The detection positions are calculated based on the average depth of interaction inside the crystals. In both geometries, it is possible to use LOR sampling in a tangential direction. It means that multiple rays could be used in raytracing for each detector pair. In this case, the spatial sampling is evenly distributed and the result is averaged over different LORs.
</p>
