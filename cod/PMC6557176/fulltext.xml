<!DOCTYPE article PUBLIC "-//NLM//DTD JATS (Z39.96) Journal Archiving and Interchange DTD v1.2 20190208//EN" "JATS-archivearticle1.dtd"> 
<article xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:mml="http://www.w3.org/1998/Math/MathML" article-type="research-article"><?properties open_access?><?DTDIdentifier.IdentifierValue -//NLM//DTD JATS (Z39.96) Journal Publishing DTD v1.1 20151215//EN?><?DTDIdentifier.IdentifierType public?><?SourceDTD.DTDName JATS-journalpublishing1.dtd?><?SourceDTD.Version 1.1?><?ConverterInfo.XSLTName jp2nlmx2.xsl?><?ConverterInfo.Version 1?><front><journal-meta><journal-id journal-id-type="nlm-ta">J Appl Crystallogr</journal-id><journal-id journal-id-type="iso-abbrev">J Appl Crystallogr</journal-id><journal-id journal-id-type="publisher-id">J. Appl. Cryst.</journal-id><journal-title-group><journal-title>Journal of Applied Crystallography</journal-title></journal-title-group><issn pub-type="ppub">0021-8898</issn><issn pub-type="epub">1600-5767</issn><publisher><publisher-name>International Union of Crystallography</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="pmcid">6557176</article-id><article-id pub-id-type="publisher-id">yr5045</article-id><article-id pub-id-type="doi">10.1107/S1600576719004485</article-id><article-id pub-id-type="coden">JACGAR</article-id><article-id pub-id-type="pii">S1600576719004485</article-id><article-categories><subj-group subj-group-type="heading"><subject>Computer Programs</subject></subj-group></article-categories><title-group><article-title>
<italic>GIDVis</italic>: a comprehensive software tool for geometry-independent grazing-incidence X-ray diffraction data analysis and pole-figure calculations</article-title><alt-title><italic>GIDVis</italic></alt-title></title-group><contrib-group><contrib contrib-type="author"><contrib-id contrib-id-type="orcid" authenticated="true">https://orcid.org/0000-0003-2013-9272</contrib-id><name><surname>Schrode</surname><given-names>Benedikt</given-names></name><xref ref-type="aff" rid="a">a</xref><xref ref-type="corresp" rid="cor">*</xref></contrib><contrib contrib-type="author"><name><surname>Pachmajer</surname><given-names>Stefan</given-names></name><xref ref-type="aff" rid="a">a</xref></contrib><contrib contrib-type="author"><name><surname>Dohr</surname><given-names>Michael</given-names></name><xref ref-type="aff" rid="a">a</xref></contrib><contrib contrib-type="author"><name><surname>R&#x000f6;thel</surname><given-names>Christian</given-names></name><xref ref-type="aff" rid="b">b</xref></contrib><contrib contrib-type="author"><contrib-id contrib-id-type="orcid" authenticated="true">https://orcid.org/0000-0001-9339-0711</contrib-id><name><surname>Domke</surname><given-names>Jari</given-names></name><xref ref-type="aff" rid="c">c</xref></contrib><contrib contrib-type="author"><contrib-id contrib-id-type="orcid" authenticated="true">https://orcid.org/0000-0001-6904-1909</contrib-id><name><surname>Fritz</surname><given-names>Torsten</given-names></name><xref ref-type="aff" rid="c">c</xref></contrib><contrib contrib-type="author"><contrib-id contrib-id-type="orcid" authenticated="true">https://orcid.org/0000-0003-0079-3525</contrib-id><name><surname>Resel</surname><given-names>Roland</given-names></name><xref ref-type="aff" rid="a">a</xref></contrib><contrib contrib-type="author"><contrib-id contrib-id-type="orcid" authenticated="true">https://orcid.org/0000-0003-0732-4422</contrib-id><name><surname>Werzer</surname><given-names>Oliver</given-names></name><xref ref-type="aff" rid="b">b</xref></contrib><aff id="a">
<label>a</label>Institute of Solid State Physics, <institution>Graz University of Technology</institution>, Petersgasse 16, Graz 8010, <country>Austria</country>
</aff><aff id="b">
<label>b</label>Institute of Pharmaceutical Sciences, Department of Pharmaceutical Technology, <institution>University of Graz</institution>, Universit&#x000e4;tsplatz 1, Graz 8010, <country>Austria</country>
</aff><aff id="c">
<label>c</label>Institute of Solid State Physics, <institution>Friedrich Schiller University Jena</institution>, Helmholtzweg 5, Jena 07743, <country>Germany</country>
</aff></contrib-group><author-notes><corresp id="cor">Correspondence e-mail: <email>b.schrode@tugraz.at</email></corresp></author-notes><pub-date pub-type="collection"><day>01</day><month>6</month><year>2019</year></pub-date><pub-date pub-type="epub"><day>31</day><month>5</month><year>2019</year></pub-date><pub-date pub-type="pmc-release"><day>31</day><month>5</month><year>2019</year></pub-date><!-- PMC Release delay is 0 months and 0 days and was based on the <pub-date pub-type="epub"/>. --><volume>52</volume><issue>Pt 3</issue><issue-id pub-id-type="publisher-id">j190300</issue-id><fpage>683</fpage><lpage>689</lpage><history><date date-type="received"><day>15</day><month>1</month><year>2019</year></date><date date-type="accepted"><day>02</day><month>4</month><year>2019</year></date></history><permissions><copyright-statement>&#x000a9; Benedikt Schrode et al. 2019</copyright-statement><copyright-year>2019</copyright-year><license license-type="open-access" xlink:href="http://creativecommons.org/licenses/by/4.0/"><license-p>This is an open-access article distributed under the terms of the Creative Commons Attribution (CC-BY) Licence, which permits unrestricted
use, distribution, and reproduction in any medium, provided the original authors and source are cited.</license-p><ali:license_ref xmlns:ali="http://www.niso.org/schemas/ali/1.0/">http://creativecommons.org/licenses/by/4.0/</ali:license_ref></license></permissions><self-uri xlink:href="https://doi.org/10.1107/S1600576719004485">A full version of this article is available from Crystallography Journals Online.</self-uri><abstract abstract-type="toc"><p>
<italic>GIDVis</italic> is a software package based on MATLAB which is specialized for the visualization and analysis of grazing-incidence thin-film X-ray diffraction data obtained during sample rotation around the surface normal. Using <italic>GIDVis</italic>, detector calibration, data stitching, intensity corrections, cuts and integrations, crystal phase analysis, and calculation of pole figures can be easily performed.</p></abstract><abstract><p>
<italic>GIDVis</italic> is a software package based on MATLAB specialized for, but not limited to, the visualization and analysis of grazing-incidence thin-film X-ray diffraction data obtained during sample rotation around the surface normal. <italic>GIDVis</italic> allows the user to perform detector calibration, data stitching, intensity corrections, standard data evaluation (<italic>e.g.</italic> cuts and integrations along specific reciprocal-space directions), crystal phase analysis <italic>etc</italic>. To take full advantage of the measured data in the case of sample rotation, pole figures can easily be calculated from the experimental data for any value of the scattering angle covered. As an example, <italic>GIDVis</italic> is applied to phase analysis and the evaluation of the epitaxial alignment of pentacene&#x000ad;quinone crystallites on a single-crystalline Au(111) surface.</p></abstract><kwd-group><kwd>grazing-incidence X-ray diffraction</kwd><kwd>thin films</kwd><kwd>pole figures</kwd><kwd>epitaxy</kwd><kwd>computer programs</kwd><kwd><italic>GIDVis</italic></kwd></kwd-group><funding-group><award-group><funding-source>Austrian Science Fund</funding-source><award-id>P30222</award-id></award-group><award-group><funding-source>Bundesministerium f&#x000fc;r Bildung und Forschung</funding-source><award-id>03VNE1052C</award-id></award-group><funding-statement>This work was funded by <funding-source>Austrian Science Fund</funding-source> grant <award-id>P30222</award-id>. <funding-source>Bundesministerium f&#x000fc;r Bildung und Forschung</funding-source> grant <award-id>03VNE1052C</award-id>. </funding-statement></funding-group><counts><page-count count="7"/></counts></article-meta></front><body><sec sec-type="introduction" id="sec1"><label>1.</label><title>Introduction &#x000a0; </title><p>The experimental method of grazing-incidence X-ray diffraction (GIXD) has achieved huge success in the characterization of thin films and surfaces (Robinson &#x00026; Tweet, 1992<xref ref-type="bibr" rid="bb26"> &#x025b8;</xref>). The possibility of choosing an incidence angle for the primary beam close to the critical angle of total external reflection provides a number of advantages for thin-film characterization: the penetration depth into the sample system can be adjusted and the scattered intensity from the sample is enhanced considerably (Als-Nielsen &#x00026; McMorrow, 2011<xref ref-type="bibr" rid="bb2"> &#x025b8;</xref>). Several possibilities for the collection of GIXD data from films have to be considered, which are related to the texture of the crystallites within the sample (see Fig. 1<xref ref-type="fig" rid="fig1"> &#x025b8;</xref>). For fibre texture of crystallites or samples with random in-plane orientation of the crystallites (often found in organic thin films deposited on isotropic surfaces), GIXD studies are typically performed on static samples, <italic>i.e.</italic> without changing the azimuth of the sample. In these cases, the reciprocal information is distributed along rings [Fig. 1<xref ref-type="fig" rid="fig1"> &#x025b8;</xref>(<italic>a</italic>)]. One measurement at a single sample orientation, representing a cut through reciprocal space, is thus sufficient to gain access to the diffraction data for full sample analysis. However, there are several situations where the distribution of reciprocal-lattice points is not constant along rings in reciprocal space. Such cases are present in samples with large individual crystals hosted at surfaces, thus resulting in poor statistics [Fig. 1<xref ref-type="fig" rid="fig1"> &#x025b8;</xref>(<italic>b</italic>)], or epitaxially grown crystallites with a defined in-plane alignment (Haber <italic>et al.</italic>, 2005<xref ref-type="bibr" rid="bb10"> &#x025b8;</xref>; Otto <italic>et al.</italic>, 2018<xref ref-type="bibr" rid="bb23"> &#x025b8;</xref>) [Fig. 1<xref ref-type="fig" rid="fig1"> &#x025b8;</xref>(<italic>c</italic>)]. For both cases, the combination of a GIXD experiment with rotation of the sample is required to collect all necessary information for phase and/or texture analysis (R&#x000f6;thel <italic>et al.</italic>, 2015<xref ref-type="bibr" rid="bb29"> &#x025b8;</xref>, 2017<xref ref-type="bibr" rid="bb28"> &#x025b8;</xref>). Moreover, sample rotation opens new possibilities for characterization methods that are inaccessible in a simple static experiment, like the determination of in-plane mosaicity.</p><p>There are various possibilities for rotating GIXD measurements, <italic>i.e.</italic> several different diffraction geometries are available (<italic>e.g.</italic> 2&#x02005;+&#x02005;2, <italic>z</italic> axis, &#x003ba; geometry <italic>etc</italic>; Moser, 2012<xref ref-type="bibr" rid="bb21"> &#x025b8;</xref>; Kriegner <italic>et al.</italic>, 2013<xref ref-type="bibr" rid="bb17"> &#x025b8;</xref>), allowing the measurement of diffraction data with respect to the sample surface. Irrespective of the experimental setup, the sample needs to be aligned with the incident X-ray beam. First, the sample requires precise spatial alignment (<italic>xy</italic> for the sample at the goniometer centre, and <italic>z</italic> for its height) as only this ensures that the centre of rotation is in the sample surface over the course of the experiments. Then the incident angle is set, typically in the range of the critical angle &#x003b1;<sub>c</sub> (the angle below which total external reflection occurs) up to few degrees. Higher incident angles allow for a reduction in the beam footprint on the sample surface, which is crucial in terms of in-plane smearing and <italic>q<sub>z</sub></italic> resolution when using two-dimensional detectors [<italic>q</italic> = (4&#x003c0;/&#x003bb;)sin&#x003b8;, where &#x003b8; is half the scattering angle and &#x003bb; is the wavelength of the incident radiation].</p><p>After the alignment process, the scattering information for the first azimuthal position is collected, followed by sample rotation around the surface normal and another image being taken [<italic>cf</italic>. Fig. 1<xref ref-type="fig" rid="fig1"> &#x025b8;</xref>(<italic>d</italic>)]. This is repeated until the entire upper hemisphere (&#x003a6; = 0&#x02013;360&#x000b0;) is mapped. It should be noted that the incident angle has to be the same for each sample position. Considering the different geometries, this is achievable either by a complex and time-consuming adjustment of various moveable parts (goniometer and motor positions) at each point or by proper design of the sample movements, as for example offered by the &#x003ba; or Eulerian geometry, which directly allow sample rotation around the surface normal. The data quality improves further if the intensity is collected continuously during azimuthal rotation as opposed to a stepped scan, so that information, even though smeared because of integration, is fully collected.</p><p>Diffracted intensities can be collected by various detectors. The current state of the art are solid-state area detectors which provide information on a large angular range together with fast data acquisition. The drawback here is that, owing to construction limitations, blind areas exist on the detector. These can be readily accepted for experiments with sufficient redundant data, but otherwise additional measurements need to be taken. Hereby the detector is moved by a certain amount by the goniometer or laterally, so that the blind areas point towards other areas of reciprocal space. From these additional measurements, (larger) images containing all of the diffraction information can be obtained.</p><p>To extract reliable information from the experimental data, several data processing and evaluation steps are required. There are a number of helpful software packages which assist in the visualization and analysis of (grazing-incidence) X-ray diffraction or small-angle X-ray scattering [(GI)SAXS] data (Benecke <italic>et al.</italic>, 2014<xref ref-type="bibr" rid="bb3"> &#x025b8;</xref>; Breiby <italic>et al.</italic>, 2008<xref ref-type="bibr" rid="bb6"> &#x025b8;</xref>; Hammersley, 2016<xref ref-type="bibr" rid="bb12"> &#x025b8;</xref>; Jiang, 2015<xref ref-type="bibr" rid="bb16"> &#x025b8;</xref>; Lazzari, 2002<xref ref-type="bibr" rid="bb18"> &#x025b8;</xref>). There is also a specific solution for data extraction from three-dimensional reciprocal-space maps (Roobol <italic>et al.</italic>, 2015<xref ref-type="bibr" rid="bb27"> &#x025b8;</xref>), <italic>e.g.</italic> collected by GIXD from rotating samples (Mocuta <italic>et al.</italic>, 2013<xref ref-type="bibr" rid="bb20"> &#x025b8;</xref>).</p><p>Although software packages specializing in SAXS [<italic>e.g.</italic>
<italic>DPDAK</italic> (Benecke <italic>et al.</italic>, 2014<xref ref-type="bibr" rid="bb3"> &#x025b8;</xref>) and <italic>GIXSGUI</italic> (Jiang, 2015<xref ref-type="bibr" rid="bb16"> &#x025b8;</xref>)] can typically be used for GIXD data visualization and reduction, analysis of diffraction data requires other features typically not available in SAXS software, <italic>e.g.</italic> calculation of expected peak positions and intensities from a known crystal structure, support for detectors mounted on goniometer arms, and subsequent data stitching or, in the case of textured samples, the extraction of pole figures.</p><p>Here we present the software <italic>GIDVis</italic>, which is a comprehensive tool for the data analysis of GIXD data of static or rotating samples, incorporating many aspects of other tools within one program, and adding additional and easy-to-use features for the evaluation of rotating GIXD data. The software is capable of dealing with all kinds of data, including linear and area-detector data from static detectors or detectors mounted on goniometer arms. It allows the user to perform all basic data handling like summation or stitching of data from different detector positions and contains a full set of tools to perform an evaluation of crystallographic properties.</p></sec><sec id="sec2"><label>2.</label><title>Experimental procedure and data transformation &#x000a0; </title><p>
<italic>GIDVis</italic> uses various details from the experimental setup, including angles, distances, wavelength and the pixel size of the detector, to convert the diffraction data from the pixel space of the detector into reciprocal space. A summary of the required experimental parameters is provided in Fig. 2<xref ref-type="fig" rid="fig2"> &#x025b8;</xref>. The detector is described by <italic>detlenx</italic> times <italic>detlenz</italic> pixels of size <italic>psx</italic> and <italic>psz</italic>. Their positions are defined by the goniometer angles &#x003b4; and &#x003b3; and the sample-to-detector distance sdd. Any non-orthogonality of the detector relative to the primary beam for &#x003b4; = &#x003b3; = 0&#x000b0; is described by the rotations <italic>rx</italic>, <italic>ry</italic> and <italic>rz</italic>. The sample position is set by the angular movements &#x003c9;, &#x003c7; and &#x003a6;. Additionally, the wavelength and the centre pixel position <italic>cpx</italic>/<italic>cpz</italic>, <italic>i.e.</italic> the pixel position of the direct beam, must be known. From these parameters one can directly calculate all necessary transformations so that finally the diffraction information is present in reciprocal-space coordinates. This has the advantage that measurements from other experimental stations or experimental setups are directly comparable without requiring knowledge about the specific setup. While such a procedure is directly accessible, inaccuracies in the angles or distances used have a large influence on the correctness and quality of the reciprocal data. Therefore, it is best practice to perform an additional detector calibration measurement beforehand. Here, <italic>GIDVis</italic> provides the possibility of extracting the necessary parameters using standards like lanthanum hexaboride (LaB<sub>6</sub>; Black <italic>et al.</italic>, 2010<xref ref-type="bibr" rid="bb5"> &#x025b8;</xref>), silver behenate (Huang <italic>et al.</italic>, 1993<xref ref-type="bibr" rid="bb15"> &#x025b8;</xref>), silicon standards (Black <italic>et al.</italic>, 2010<xref ref-type="bibr" rid="bb4"> &#x025b8;</xref>) or custom calibrants. Based on these data, the transformation to reciprocal space is quite precise.</p></sec><sec id="sec3"><label>3.</label><title>Pole-figure calculation &#x000a0; </title><p>For some types of sample, the angle &#x003a6; is of no particular interest, so that information along <italic>q<sub>x</sub></italic> and <italic>q<sub>y</sub></italic> is merged into <italic>q<sub>xy</sub></italic>&#x000a0;= <inline-formula><inline-graphic xlink:href="j-52-00683-efi1.jpg" mimetype="image" mime-subtype="gif"/></inline-formula>, <italic>i.e.</italic> the component of the scattering vector parallel to the sample surface. This also means that information on the azimuth is lost. By including information from the angle &#x003a6;, reciprocal-space information in all directions, <italic>i.e.</italic>
<italic>q<sub>x</sub></italic>, <italic>q<sub>y</sub></italic> and <italic>q<sub>z</sub></italic>, can be determined. Fig. 3<xref ref-type="fig" rid="fig3"> &#x025b8;</xref> shows an example of the scattering vector <bold>q</bold> in the sample coordinate system. The scattering vector can be separated into its in-plane component <italic>q</italic>
<sub><italic>xy</italic></sub> and the out-of-plane component <italic>q</italic>
<sub><italic>z</italic></sub>. The inclination of <bold>q</bold> with respect to the <italic>z</italic> axis is described by the angle &#x003a8;, ranging from 0 to 90&#x000b0;, and the angle &#x003a6; is defined as the angle between the in-plane component of the scattering vector <italic>q</italic>
<sub><italic>xy</italic></sub> and the <italic>x</italic> axis, going from 0 to 360&#x000b0;. So instead of using <italic>q</italic>
<sub><italic>xy</italic></sub> and <italic>q</italic>
<sub><italic>z</italic></sub>, the direction of the scattering vector is defined by the two angles &#x003a8; and &#x003a6; (Alexander, 1979<xref ref-type="bibr" rid="bb1"> &#x025b8;</xref>). Following the described definitions, they can be determined by<disp-formula id="fd1"><graphic xlink:href="j-52-00683-efd1.jpg" mimetype="image" mime-subtype="gif" position="float" orientation="portrait"/></disp-formula>
</p><p>In a pole figure, the spatial distribution of the pole directions of certain net planes (defined by a distinct <italic>q</italic> value or a <italic>q</italic> range with a certain width) is plotted in a single polar plot with the radius being &#x003a8; and the azimuthal part &#x003a6; (<italic>cf</italic>. Fig. 3<xref ref-type="fig" rid="fig3"> &#x025b8;</xref>, inset) and the measured intensity is colour coded. For practical reasons, a stereographic projection is chosen for visualization. In <italic>GIDVis</italic>, pole figures can be calculated from the experimental GIXD patterns and visualized directly. The data can also be converted for analysis with other software (Salzmann &#x00026; Resel, 2004<xref ref-type="bibr" rid="bb31"> &#x025b8;</xref>) to determine the epitaxial relationship between the adsorbate and substrate and to obtain the orientation distribution function (ODF) (Alexander, 1979<xref ref-type="bibr" rid="bb1"> &#x025b8;</xref>; Suwas &#x00026; Ray, 2014<xref ref-type="bibr" rid="bb35"> &#x025b8;</xref>).</p></sec><sec id="sec4"><label>4.</label><title>Workflow &#x000a0; </title><p>Fig. 4<xref ref-type="fig" rid="fig4"> &#x025b8;</xref> shows a typical workflow employed in <italic>GIDVis</italic>. Starting from measurements of a polycrystalline powder calibrant with a well known interplanar spacing, the experimental parameters are extracted by comparison of the expected and actual measured peak positions [Fig. 4<xref ref-type="fig" rid="fig4"> &#x025b8;</xref>(<italic>a</italic>)]. The obtained calibration parameters are stored and can easily be applied to any other two-dimensional diffraction pattern recorded using the same setup to calculate the reciprocal-space or polar representation.</p><p>The detector gaps due to the construction restrictions of the detector leave some inaccessible areas which might cause problems. Having the possibility of recording diffraction images at different detector locations, using either a goniometer arm or a simple detector translation, the software is capable of using several data sets to generate a single merged data set without detector gaps and covering a larger volume of reciprocal space [Fig. 4<xref ref-type="fig" rid="fig4"> &#x025b8;</xref>(<italic>b</italic>)].</p><p>For a sample of poor statistics or high in-plane order, an experiment using a 360&#x000b0; azimuthal rotation is best. For some samples, it might be sufficient to collect all information obtained during the rotation within a single image. However, if several images at distinct azimuths are recorded, <italic>GIDVis</italic> allows the user to combine the full diffraction information in one image afterwards by summing, averaging and extracting the maximum intensity of each pixel during the rotation. This provides a convenient way of reducing the data for an initial texture and polymorph phase analysis. Additionally, pole figures can easily be calculated, which takes full advantage of collecting data for the entire upper hemisphere [Fig.&#x000a0;4<xref ref-type="fig" rid="fig4"> &#x025b8;</xref>(<italic>c</italic>)].</p><p>Independently of the input data type &#x02013; static, azimuthal sample rotations, different detector positions (including merged/stitched images) &#x02013; several data evaluation routines, <italic>e.g.</italic> cuts and integrations along specific reciprocal-space directions, crystal phase analysis, intensity corrections, fitting of peak positions, transformation to powder-like patterns <italic>etc.</italic>, are available. Moreover, <italic>GIDVis</italic> can easily be used directly during measurements, <italic>e.g.</italic> to support sample alignment by extraction of height scans and rocking curves from two-dimensional intensity data, which can be directly evaluated further for the correct sample position, similar to what is done with a point detector. Because of the real-time data conversion to reciprocal space, <italic>GIDVis</italic> can also be used to monitor the measurement results, <italic>e.g.</italic> to make decisions on the optimum incident angle.</p><p>
<italic>GIDVis</italic> is engineered using a very modular structure, allowing many different tasks to be carried out directly within a single program (automatic intensity extraction, structure data comparison or even a rudimentary structure viewer). For further demands, the modular structure means that <italic>GIDVis</italic> is highly adaptable and, more importantly, can be extended to even more specific needs. Interfaces to indexing routines using the diffraction pattern calculator (<italic>DPC</italic>; Hailey <italic>et al.</italic>, 2014<xref ref-type="bibr" rid="bb11"> &#x025b8;</xref>) or <italic>CRYSFIRE</italic> (Shirley, 2006<xref ref-type="bibr" rid="bb33"> &#x025b8;</xref>) might be easily generated, as well as comparisons with literature structure data (<italic>e.g.</italic> automatic structure searches). The model-fitting routines employing Gaussian fits implemented in <italic>GIDVis</italic> might be expanded using models suitable for SAXS and GISAXS (Hexemer &#x00026; M&#x000fc;ller-Buschbaum, 2015<xref ref-type="bibr" rid="bb14"> &#x025b8;</xref>; Schwartzkopf &#x00026; Roth, 2016<xref ref-type="bibr" rid="bb32"> &#x025b8;</xref>). Other expansions could make corrections for multiple scattering effects in GIXD data available (Resel <italic>et al.</italic>, 2016<xref ref-type="bibr" rid="bb24"> &#x025b8;</xref>) or handle dynamic diffraction effects in general to obtain more accurate peak intensity values and positions, as usually performed via the distorted-wave Born approximation (DWBA) (Daillant &#x00026; Alba, 2000<xref ref-type="bibr" rid="bb7"> &#x025b8;</xref>; Lazzari, 2009<xref ref-type="bibr" rid="bb19"> &#x025b8;</xref>).</p></sec><sec id="sec5"><label>5.</label><title>Example: pentacene&#x000ad;quinone on Au(111) &#x000a0; </title><p>To demonstrate the advantage of using rotating GIXD and <italic>GIDVis</italic> we provide the example of measurements of epitaxially grown pentacene&#x000ad;quinone (P2O) on an Au(111) single-crystalline surface. P2O (pentacene&#x000ad;quinone, or pentacene-6,13-dione, C<sub>22</sub>H<sub>12</sub>O<sub>2</sub>, CAS number 3029-32-1) is an organic semiconductor and is already known to exhibit several polymorphic phases (Simbrunner <italic>et al.</italic>, 2018<xref ref-type="bibr" rid="bb34"> &#x025b8;</xref>; Salzmann <italic>et al.</italic>, 2011<xref ref-type="bibr" rid="bb30"> &#x025b8;</xref>; Nam <italic>et al.</italic>, 2010<xref ref-type="bibr" rid="bb22"> &#x025b8;</xref>; Dzyabchenko <italic>et al.</italic>, 1979<xref ref-type="bibr" rid="bb8"> &#x025b8;</xref>).</p><p>Prior to deposition of the molecule, the substrate surface was cleaned by repeated cycles of Ar<sup>+</sup> sputtering with an energy of 600&#x02005;eV and thermal annealing at 773&#x02005;K. The mol&#x000ad;ecular film was then deposited from an effusion cell at a constant temperature of 463&#x02005;K under ultra-high-vacuum conditions (base pressure 10<sup>&#x02212;10</sup>&#x02005;mbar = 10<sup>&#x02212;8</sup>&#x02005;Pa) directly onto the substrate held at room temperature. The film thickness was monitored <italic>in situ</italic> using optical differential reflectance spectroscopy (Forker &#x00026; Fritz, 2009<xref ref-type="bibr" rid="bb9"> &#x025b8;</xref>) and was calculated to be ten (not necessarily full and densely packed) layers.</p><p>After sample transfer to ambient conditions, the sample was investigated on the XRD1 beamline at the Elettra Synchrotron, Trieste, Italy, using a wavelength of 1.40&#x02005;&#x000c5; and a Pilatus 2M detector approximately 200&#x02005;mm away from the sample. After setup calibration using an LaB<sub>6</sub> standard, sample alignment was performed using rocking curves, height scans and translation scans (<italic>x</italic> and <italic>y</italic>) to locate the midpoint of the substrate surface in the centre of rotation for all relevant movements required during rotating GIXD data collection. For all these scans, <italic>GIDVis</italic> was used for fast extraction of two-dimensional scans from sets of two-dimensional images and subsequent evaluation. For the rotating GIXD measurements the incident angle was set to 0.4&#x000b0;, which corresponds to around 80% of the critical angle of gold at this wavelength (Henke <italic>et al.</italic>, 1993<xref ref-type="bibr" rid="bb13"> &#x025b8;</xref>). Using an exposure time of 10&#x02005;s per image, 180 single images with a &#x003a6; step size (azimuthal rotation) of 2&#x000b0; were collected, so that information from a full 360&#x000b0; sample rotation was obtained. Diffraction data were recorded continuously, which means that even for very narrow peaks the intensity was still collected.</p><p>In the first step after the data collection, these data were transferred to reciprocal space. Inspection of individual images revealed that the single images do not look identical (data not shown). From this initial information it can be directly concluded that there is some in-plane texture, as expected for an epitaxially grown film.</p><p>In the next step, one can sum the intensities of all images pixel by pixel to construct an integrated image [Fig. 5<xref ref-type="fig" rid="fig5"> &#x025b8;</xref>(<italic>a</italic>)]. Such data then allow the identification of the contact plane, <italic>i.e.</italic> the crystallographic plane parallel to the substrate surface, and the polymorphic phase. A comparison of the measured peak positions with the expected positions from literature crystal structure solutions reveals the presence of the crystal phase reported by Dzyabchenko <italic>et al.</italic> (1979<xref ref-type="bibr" rid="bb8"> &#x025b8;</xref>) with a (140) contact plane. <italic>GIDVis</italic> can directly plot the expected peak positions (centres of the rings) together with the squared absolute values of the structure factors (proportional to the areas of the rings) (<italic>cf</italic>. Fig. 5<xref ref-type="fig" rid="fig5"> &#x025b8;</xref>). Note that the measured intensity is corrected in terms of geometric factors, <italic>i.e.</italic> Lorentz and polarization factor, solid angle, pixel distance and detector efficiency corrections are applied. Using <italic>GIDVis</italic>, extracting the intensities by fitting a two-dimensional Gaussian function with a background plane is easily done and allows us to compare the measured intensity with the available structure solution using other representations [<italic>cf</italic>. Fig. 5<xref ref-type="fig" rid="fig5"> &#x025b8;</xref>(<italic>b</italic>)]. The intensities of most of the peaks are reproduced with good agreement, except for the <inline-formula><inline-graphic xlink:href="j-52-00683-efi2.jpg" mimetype="image" mime-subtype="gif"/></inline-formula>, 111, 011 and <inline-formula><inline-graphic xlink:href="j-52-00683-efi3.jpg" mimetype="image" mime-subtype="gif"/></inline-formula> peaks where no intensity could be extracted, <italic>i.e.</italic> the fit did not return a result. Note that the expected intensities of these peaks are very small.</p><p>To study the in-plane alignment of the crystallites in more detail, pole figures can easily be generated within <italic>GIDVis</italic>. Here, there are some advantages of the described approach compared with laboratory-based pole-figure investigations. The first is the greatly reduced measurement time, which is here about 30&#x02005;min for a large range of <italic>q</italic> values compared with at least 15&#x02005;h for a single <italic>q</italic> value using in-house texture goniometers. From 180 GIXD measurements of a 360&#x000b0; sample rotation, pole figures can be obtained for any value of the scattering angle covered in the images by extracting it from the present data set. This limitation is often reflected in the fact that reciprocal-space mapping, although a very powerful technique, is in fact rarely done in the home laboratory (Resel <italic>et al.</italic>, 2007<xref ref-type="bibr" rid="bb25"> &#x025b8;</xref>), and usually epitaxy is tested for known phases only. The use of synchrotron radiation and the approach we implement makes the calculation of pole figures and their inspection for materials of unknown crystal structure reasonable and thus possible. Because of the geometry chosen in GIXD, even pole figures with very low <italic>q</italic> values can be calculated, which are often hard to access with classical texture goniometers owing to the strong background of the primary beam. Besides these advantages, elimination of the blind areas of the area detector would require three measurements with slightly different detector positions. Yet, as the information is often redundant because of higher-order reflections or scattering into another quadrant of a large detector, this is of minor importance for this kind of experiment. A real limitation of the GIXD geometry is its inherent insufficiency for measuring close to the specular direction (<italic>i.e.</italic> low <italic>q<sub>x</sub></italic> and <italic>q<sub>y</sub></italic> and thus <italic>q<sub>xy</sub></italic> values) due to the external reflection of the beam. Here, classical pole-figure geometries (<italic>e.g.</italic> Eulerian cradles) would be required, but at the expense of lacking the advantages of GIXD measurements.</p><p>Fig. 6<xref ref-type="fig" rid="fig6"> &#x025b8;</xref> shows several pole figures calculated from the rotating GIXD experiment, allowing the determination of the in-plane orientation of the P2O crystallites with respect to the single-crystalline Au(111) substrate. For detailed analysis, the pole figures were exported from <italic>GIDVis</italic> as <monospace>.rwa</monospace> files and analysed using the standalone software <italic>Stereopole</italic> (Salzmann &#x00026; Resel, 2004<xref ref-type="bibr" rid="bb31"> &#x025b8;</xref>). Missing data points due to detector gaps are present as white concentric circles in Figs. 6<xref ref-type="fig" rid="fig6"> &#x025b8;</xref>(<italic>c</italic>)&#x02013;6<xref ref-type="fig" rid="fig6"> &#x025b8;</xref>(<italic>f</italic>). For several of the pole figures, six areas of high intensity (enhanced pole densities, EPD) are found [Figs. 6<xref ref-type="fig" rid="fig6"> &#x025b8;</xref>(<italic>a</italic>), 6<xref ref-type="fig" rid="fig6"> &#x025b8;</xref>(<italic>c</italic>) and 6<xref ref-type="fig" rid="fig6"> &#x025b8;</xref>(<italic>f</italic>)], while there is also one with only three [Fig. 6<xref ref-type="fig" rid="fig6"> &#x025b8;</xref>(<italic>g</italic>)]. The others show even more EPD within a single pole figure [Fig. 6<xref ref-type="fig" rid="fig6"> &#x025b8;</xref>(<italic>b</italic>), 6<xref ref-type="fig" rid="fig6"> &#x025b8;</xref>(<italic>d</italic>) and 6<xref ref-type="fig" rid="fig6"> &#x025b8;</xref>(<italic>e</italic>)]. Using the information gained from the integral measurements, we already know that the EPD can be explained by the P2O bulk crystal structure in a (140) orientation. Together with the sixfold gold surface symmetry, all of the observed peaks can be explained. Note that both the reciprocal-space map and the pole figures could also be explained with the crystallographic equivalent orientation <inline-formula><inline-graphic xlink:href="j-52-00683-efi4.jpg" mimetype="image" mime-subtype="gif"/></inline-formula>.</p><p>A pole figure of the single-crystalline Au(111) substrate allows the determination of the symmetry directions of the gold surface [<italic>cf</italic>. Fig. 6<xref ref-type="fig" rid="fig6"> &#x025b8;</xref>(<italic>g</italic>)]. These crystallographic directions are indicated by arrows in an orientation image [Fig. 6<xref ref-type="fig" rid="fig6"> &#x025b8;</xref>(<italic>h</italic>)]. Using the same approach for the organic layers and comparing the results with those of gold shows that the main axis in plane, <italic>i.e.</italic> [001], is aligned along the gold <inline-formula><inline-graphic xlink:href="j-52-00683-efi5.jpg" mimetype="image" mime-subtype="gif"/></inline-formula> axis. To summarize, the following relationships between the substrate and the organic layer are found: (111)<sub>Au</sub> || &#x000b1;(140)<sub>P2O</sub> and <inline-formula><inline-graphic xlink:href="j-52-00683-efi6.jpg" mimetype="image" mime-subtype="gif"/></inline-formula>.</p></sec><sec id="sec6"><label>6.</label><title>Availability &#x000a0; </title><p>
<italic>GIDVis</italic> is based on MATLAB and released under the terms of the GNU General Public Licence, either version 3 of the licence or any later version. It can be obtained at <ext-link ext-link-type="uri" xlink:href="https://www.if.tugraz.at/amd/GIDVis/">https://www.if.tugraz.at/amd/GIDVis/</ext-link> free of charge. Two download options are provided. (i) For users without MATLAB, executable files for Windows and Linux are provided. To run, they require the MATLAB runtime, which can be downloaded from The Mathworks Inc. (<ext-link ext-link-type="uri" xlink:href="https://mathworks.com/products/compiler/matlab-runtime.html">https://mathworks.com/products/compiler/matlab-runtime.html</ext-link>) free of charge. (ii) The <italic>GIDVis</italic> source code is also provided in our online repository, allowing users to adapt the program to their needs (requires MATLAB).</p><p>Extended tutorials, additional help and the theoretical background of the algorithms implemented can be found in a separate documentation file that can also be downloaded from the web page mentioned above.</p></sec></body><back><ack><p>We acknowledge the Elettra Synchrotron Trieste for beamtime allocation and thank Luisa Barba and Nicola Demitri for assistance in using beamline XRD1. We acknowledge the European Synchrotron Radiation Facility for provision of synchrotron radiation facilities and we would like to thank Oleg Konovalov and Andrey Chumakov for assistance in using beamline ID10.</p></ack><ref-list><title>References</title><ref id="bb1"><mixed-citation publication-type="other">Alexander, L. E. (1979). <italic>X-ray Diffraction Methods in Polymer Science</italic>. Huntington: Krieger.</mixed-citation></ref><ref id="bb2"><mixed-citation publication-type="other">Als-Nielsen, J. &#x00026; McMorrow, D. (2011). <italic>Elements of Modern X-ray Physics</italic>. Hoboken: Wiley.</mixed-citation></ref><ref id="bb3"><mixed-citation publication-type="other">Benecke, G., Wagermaier, W., Li, C., Schwartzkopf, M., Flucke, G., Hoerth, R., Zizak, I., Burghammer, M., Metwalli, E., M&#x000fc;ller-Buschbaum, P., Trebbin, M., F&#x000f6;rster, S., Paris, O., Roth, S. V. &#x00026; Fratzl, P. (2014). <italic>J. Appl. Cryst.</italic>
<bold>47</bold>, 1797&#x02013;1803.</mixed-citation></ref><ref id="bb5"><mixed-citation publication-type="other">Black, D. R., Windover, D., Henins, A., Filliben, J. &#x00026; Cline, J. P. (2010). <italic>Advances in X-ray Analysis</italic>, Vol. 54, pp. 140&#x02013;148. Heidelberg: Springer.</mixed-citation></ref><ref id="bb4"><mixed-citation publication-type="other">Black, D. R., Windover, D., Henins, A., Gil, D., Filliben, J. &#x00026; Cline, J.&#x000a0;P. (2010). <italic>Powder Diffr.</italic>
<bold>25</bold>, 187&#x02013;190.</mixed-citation></ref><ref id="bb6"><mixed-citation publication-type="other">Breiby, D. W., Bunk, O., Andreasen, J. W., Lemke, H. T. &#x00026; Nielsen, M.&#x000a0;M. (2008). <italic>J. Appl. Cryst.</italic>
<bold>41</bold>, 262&#x02013;271.</mixed-citation></ref><ref id="bb7"><mixed-citation publication-type="other">Daillant, J. &#x00026; Alba, M. (2000). <italic>Rep. Prog. Phys.</italic>
<bold>63</bold>, 1725&#x02013;1777.</mixed-citation></ref><ref id="bb8"><mixed-citation publication-type="other">Dzyabchenko, A. V., Zavodnik, V. E. &#x00026; Belsky, V. K. (1979). <italic>Acta Cryst.</italic> B<bold>35</bold>, 2250&#x02013;2253.</mixed-citation></ref><ref id="bb9"><mixed-citation publication-type="other">Forker, R. &#x00026; Fritz, T. (2009). <italic>Phys. Chem. Chem. Phys.</italic>
<bold>11</bold>, 2142&#x02013;2155.</mixed-citation></ref><ref id="bb10"><mixed-citation publication-type="other">Haber, T., Andreev, A., Thierry, A., Sitter, H., Oehzelt, M. &#x00026; Resel, R. (2005). <italic>J. Cryst. Growth</italic>, <bold>284</bold>, 209&#x02013;220.</mixed-citation></ref><ref id="bb11"><mixed-citation publication-type="other">Hailey, A. K., Hiszpanski, A. M., Smilgies, D.-M. &#x00026; Loo, Y.-L. (2014). <italic>J. Appl. Cryst.</italic>
<bold>47</bold>, 2090&#x02013;2099.</mixed-citation></ref><ref id="bb12"><mixed-citation publication-type="other">Hammersley, A. P. (2016). <italic>J. Appl. Cryst.</italic>
<bold>49</bold>, 646&#x02013;652.</mixed-citation></ref><ref id="bb13"><mixed-citation publication-type="other">Henke, B. L., Gullikson, E. M. &#x00026; Davis, J. C. (1993). <italic>At. Data Nucl. Data Tables</italic>, <bold>54</bold>, 181&#x02013;342.</mixed-citation></ref><ref id="bb14"><mixed-citation publication-type="other">Hexemer, A. &#x00026; M&#x000fc;ller-Buschbaum, P. (2015). <italic>IUCrJ</italic>, <bold>2</bold>, 106&#x02013;125.</mixed-citation></ref><ref id="bb15"><mixed-citation publication-type="other">Huang, T. C., Toraya, H., Blanton, T. N. &#x00026; Wu, Y. (1993). <italic>J. Appl. Cryst.</italic>
<bold>26</bold>, 180&#x02013;184.</mixed-citation></ref><ref id="bb16"><mixed-citation publication-type="other">Jiang, Z. (2015). <italic>J. Appl. Cryst.</italic>
<bold>48</bold>, 917&#x02013;926.</mixed-citation></ref><ref id="bb17"><mixed-citation publication-type="other">Kriegner, D., Wintersberger, E. &#x00026; Stangl, J. (2013). <italic>J. Appl. Cryst.</italic>
<bold>46</bold>, 1162&#x02013;1170.</mixed-citation></ref><ref id="bb18"><mixed-citation publication-type="other">Lazzari, R. (2002). <italic>J. Appl. Cryst.</italic>
<bold>35</bold>, 406&#x02013;421.</mixed-citation></ref><ref id="bb19"><mixed-citation publication-type="other">Lazzari, R. (2009). <italic>X-ray and Neutron Reflectivity</italic>, Vol. 770, edited by J. Daillant &#x00026; A. Gibaud, pp. 283&#x02013;342. Berlin, Heidelberg: Springer.</mixed-citation></ref><ref id="bb20"><mixed-citation publication-type="other">Mocuta, C., Richard, M.-I., Fouet, J., Stanescu, S., Barbier, A., Guichet, C., Thomas, O., Hustache, S., Zozulya, A. V. &#x00026; Thiaudi&#x000e8;re, D. (2013). <italic>J. Appl. Cryst.</italic>
<bold>46</bold>, 1842&#x02013;1853.</mixed-citation></ref><ref id="bb21"><mixed-citation publication-type="other">Moser, A. (2012). PhD thesis, Graz University of Technology, Austria.</mixed-citation></ref><ref id="bb22"><mixed-citation publication-type="other">Nam, H.-J., Kim, Y.-J. &#x00026; Jung, D.-Y. (2010). <italic>Bull. Korean Chem. Soc.</italic>
<bold>31</bold>, 2413&#x02013;2415.</mixed-citation></ref><ref id="bb23"><mixed-citation publication-type="other">Otto, F., Huempfner, T., Schaal, M., Udhardt, C., Vorbrink, L., Schroeter, B., Forker, R. &#x00026; Fritz, T. (2018). <italic>J. Phys. Chem. C</italic>, <bold>122</bold>, 8348&#x02013;8355.</mixed-citation></ref><ref id="bb24"><mixed-citation publication-type="other">Resel, R., Bainschab, M., Pichler, A., Dingemans, T., Simbrunner, C., Stangl, J. &#x00026; Salzmann, I. (2016). <italic>J. Synchrotron Rad.</italic>
<bold>23</bold>, 729&#x02013;734.</mixed-citation></ref><ref id="bb25"><mixed-citation publication-type="other">Resel, R., Lengyel, O., Haber, T., Werzer, O., Hardeman, W., de Leeuw, D. M. &#x00026; Wondergem, H. J. (2007). <italic>J. Appl. Cryst.</italic>
<bold>40</bold>, 580&#x02013;582.</mixed-citation></ref><ref id="bb26"><mixed-citation publication-type="other">Robinson, I. K. &#x00026; Tweet, D. J. (1992). <italic>Rep. Prog. Phys.</italic>
<bold>55</bold>, 599&#x02013;651.</mixed-citation></ref><ref id="bb27"><mixed-citation publication-type="other">Roobol, S., Onderwaater, W., Drnec, J., Felici, R. &#x00026; Frenken, J. (2015). <italic>J. Appl. Cryst.</italic>
<bold>48</bold>, 1324&#x02013;1329.</mixed-citation></ref><ref id="bb28"><mixed-citation publication-type="other">R&#x000f6;thel, C., Radziown, M., Resel, R., Grois, A., Simbrunner, C. &#x00026; Werzer, O. (2017). <italic>CrystEngComm</italic>, <bold>19</bold>, 2936&#x02013;2945.</mixed-citation></ref><ref id="bb29"><mixed-citation publication-type="other">R&#x000f6;thel, C., Radziown, M., Resel, R., Zimmer, A., Simbrunner, C. &#x00026; Werzer, O. (2015). <italic>Cryst. Growth Des.</italic>
<bold>15</bold>, 4563&#x02013;4570.</mixed-citation></ref><ref id="bb30"><mixed-citation publication-type="other">Salzmann, I., Nabok, D., Oehzelt, M., Duhm, S., Moser, A., Heimel, G., Puschnig, P., Ambrosch-Draxl, C., Rabe, J. P. &#x00026; Koch, N. (2011). <italic>Cryst. Growth Des.</italic>
<bold>11</bold>, 600&#x02013;606.</mixed-citation></ref><ref id="bb31"><mixed-citation publication-type="other">Salzmann, I. &#x00026; Resel, R. (2004). <italic>J. Appl. Cryst.</italic>
<bold>37</bold>, 1029&#x02013;1033.</mixed-citation></ref><ref id="bb32"><mixed-citation publication-type="other">Schwartzkopf, M. &#x00026; Roth, S. (2016). <italic>Nanomaterials</italic>, <bold>6</bold>, 239.</mixed-citation></ref><ref id="bb33"><mixed-citation publication-type="other">Shirley, R. (2006). <italic>The CRYSFIRE System for Automatic Powder Indexing</italic>, http://www.ccp14.ac.uk/tutorial/crys/</mixed-citation></ref><ref id="bb34"><mixed-citation publication-type="other">Simbrunner, J., Simbrunner, C., Schrode, B., R&#x000f6;thel, C., Bedoya-Martinez, N., Salzmann, I. &#x00026; Resel, R. (2018). <italic>Acta Cryst.</italic> A<bold>74</bold>, 373&#x02013;387.</mixed-citation></ref><ref id="bb35"><mixed-citation publication-type="other">Suwas, S. &#x00026; Ray, R. K. (2014). <italic>Crystallographic Texture of Materials</italic>. London: Springer.</mixed-citation></ref></ref-list></back><floats-group><fig id="fig1" orientation="portrait" position="float"><label>Figure 1</label><caption><p>The distribution of reciprocal-lattice points (red) for samples with fibre-textured crystallites, (<italic>a</italic>) with the <italic>z</italic> axis as the rotation axis, (<italic>b</italic>) for samples with fibre texture combined with a partial in-plane texture, and (<italic>c</italic>) for azimuthally oriented crystallites. Blue arrows are selected reciprocal-lattice vectors. (<italic>d</italic>) Two cuts through reciprocal space by two GIXD measurements taken at different sample azimuths.</p></caption><graphic xlink:href="j-52-00683-fig1"/></fig><fig id="fig2" orientation="portrait" position="float"><label>Figure 2</label><caption><p>A typical measurement setup using an area detector mounted on a goniometer arm. The coordinate system describes the directions of the laboratory system. Rotations within the detector coordinate system are indicated in blue, rotations within the sample coordinate system in green, and rotations in the laboratory system in black.</p></caption><graphic xlink:href="j-52-00683-fig2"/></fig><fig id="fig3" orientation="portrait" position="float"><label>Figure 3</label><caption><p>The angular relationships in the sample coordinate system used by the pole-figure calculation, and (inset) the approximate position of the plotted scattering vector <bold>q</bold> in the pole figure.</p></caption><graphic xlink:href="j-52-00683-fig3"/></fig><fig id="fig4" orientation="portrait" position="float"><label>Figure 4</label><caption><p>A schematic diagram of the data processing in <italic>GIDVis</italic>. (<italic>a</italic>) Starting from a standard measurement and calibration parameter extraction from it, the data (<italic>b</italic>) can be stitched/merged if necessary and (<italic>c</italic>) can be transformed to reciprocal space independently of the input and visualized in a variety of ways.</p></caption><graphic xlink:href="j-52-00683-fig4"/></fig><fig id="fig5" orientation="portrait" position="float"><label>Figure 5</label><caption><p>(<italic>a</italic>) The summation of intensity from all 360&#x000b0; azimuthal directions, and (<italic>b</italic>) a comparison of the expected and measured intensities.</p></caption><graphic xlink:href="j-52-00683-fig5"/></fig><fig id="fig6" orientation="portrait" position="float"><label>Figure 6</label><caption><p>(<italic>a</italic>)&#x02013;(<italic>g</italic>) A series of relevant pole figures at distinct <italic>q</italic> values, indexed with the bulk crystal structure of pentacene&#x000ad;quinone in (140) orientation (black) and gold in (111) orientation (red). (<italic>h</italic>) The crystal directions in real space of the substrate (red) and the organic overlayer (black).</p></caption><graphic xlink:href="j-52-00683-fig6"/></fig></floats-group></article>